\usepackage{color}
\usepackage{latexsym}
\usepackage{listings}
\usepackage{enumitem}
\usepackage{amsfonts,amsmath,amssymb}
\usepackage{tabularx}

\let\oldnl\nl% Store \nl in \oldnl
\newcommand{\nonl}{\renewcommand{\nl}{\let\nl\oldnl}}% Remove line number for one line

%\usepackage{algorithm2e}
%\usepackage{tabularx}

% uncomment to enable clever references
\ifdefined\noauthorea
\usepackage{cleveref} 
\AtBeginDocument{\renewcommand{\ref}[1]{\Cref{#1}}}
\AtBeginDocument{\renewcommand{\eqref}[1]{\Cref{#1}}}
\fi

% commands
\ifdefined\noauthorea
\newcommand{\ifauthorea}[2]{#2}
\else
\newcommand{\ifauthorea}[2]{#1}
\fi

\newcommand{\mynote}[1]{\medskip\noindent{\small[{\bf Note:} {\em #1}]}}

\ifdefined\noauthorea
\newcommand{\mychapter}{}
\newcommand{\mysection}{}
\newcommand{\mydefinition}{}
\newcommand{\myfigure}{}
\newcommand{\mytable}{}
\newcommand{\mylemma}{}
\newcommand{\mytheorem}{}
\newcommand{\myequation}{}
\newcommand{\myalgorithm}{}
\newcommand{\myexample}{}
\else
\newcommand{\mychapter}{Chapter~}
\newcommand{\mysection}{Section~}
\newcommand{\mydefinition}{Definition~}
\newcommand{\myfigure}{Figure~}
\newcommand{\mytable}{Table~}
\newcommand{\mylemma}{Lemma~}
\newcommand{\mytheorem}{Theorem~}
\newcommand{\myequation}{Equation~}
\newcommand{\myalgorithm}{Fi\usepackage{amsmath}gure~}
\newcommand{\myexample}{Example~}
\fi

% theorems
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}
\newtheorem{property}{Property}
\newtheorem{example}{Example}

% env
\newenvironment{myproof}
{\noindent{\sc Proof.}}{\hspace*{\fill}$\Box$\par\vspace{2mm}}

\newenvironment{myproofsketch}
{\noindent{\sc Proof} (Sketch).}{\hspace*{\fill}$\Box$\par\vspace{2mm}}

%% macros
\newcommand{\missing}{\textbf{XXX}}
\newcommand{\algmissing}{Sorry, I still have to typeset the algorithm for Authorea :-) Check GitHub instead.}
\newcommand{\etal}{{\em et al.}}

% HCCT
\newcommand{\gcc}{{\tt gcc}}
\newcommand{\gprof}{{\tt gprof}}
\newcommand{\spacesaving}{Space-Saving}

% k-BLPP
\newcommand{\kipf}{\mbox{$k$-IPF}}
\newcommand{\ksf}{\mbox{$k$-SF}}
\newcommand{\kblpp}{\mbox{$k$-BLPP}}
\newcommand{\blpp}{\mbox{BLPP}}

% OSRKit
\newcommand{\osrkit}{{\sf OSRKit}}
\newcommand{\tinyvm}{{\sf TinyVM}}
\newcommand{\clang}{{\tt clang}}
\newcommand{\fbase}{$\textsf{f}$}
\newcommand{\fvariant}{$\textsf{f'}$}
\newcommand{\fosrfrom}{$\textsf{f}_{\textsf{from}}$}
\newcommand{\fosrto}{$\textsf{f}\textsf{'}_{\textsf{to}}$}
\newcommand{\fstub}{$\textsf{f}_{\textsf{stub}}$}
\newcommand{\osrpoint}{$\textsf{L}$}

%% build_comp
\newcommand{\mytt}[1]{\text{${\tt #1}$}}
% language
\newcommand{\trans}{\Rightarrow}
\newcommand{\mysem}[1]{[\![#1]\!]}
\newcommand{\lve}{\text{LVE}}
\newcommand{\live}{\mytt{is\_live}}
\newcommand{\ureachdef}{\mytt{urdef}}
\newcommand{\dom}{\mytt{dom}}
\newcommand{\stmt}{\mytt{stmt}}
\newcommand{\point}{\mytt{point}}
\newcommand\Tau{\mathcal{T}}
\newcommand{\wskip}{\mytt{skip}}
\newcommand{\wif}{\mytt{if}}
\newcommand{\wthen}{\mytt{then}}
\newcommand{\wgoto}{\mytt{goto}}
\newcommand{\welse}{\mytt{else}}
\newcommand{\wdef}{\mytt{def}}
\newcommand{\wuse}{\mytt{use}}
\newcommand{\wtrans}{\mytt{trans}}
\newcommand{\wfreevar}{\mytt{freevar}}
\newcommand{\wconlit}{\mytt{conlit}}
\newcommand{\wstmt}{\mytt{stmt}}
\newcommand{\wpoint}{\mytt{point}}
\newcommand{\wx}{\mytt{x}}
\newcommand{\wy}{\mytt{y}}
\newcommand{\we}{\mytt{e}}
\newcommand{\wc}{\mytt{c}}
\newcommand{\wv}{\mytt{v}}
\newcommand{\wm}{\mytt{m}}
% algorithms
\newcommand{\mundef}{unde\hspace{-0.1em}f}
\newcommand{\osrtrans}{\mytt{OSR\_trans}}
\newcommand{\buildcomp}{\mytt{build\_comp}}
\newcommand{\reconstruct}{\mytt{reconstruct}}
\newcommand{\apply}{\mytt{apply}}
\newcommand{\dopasses}{\mytt{do\_passes}}